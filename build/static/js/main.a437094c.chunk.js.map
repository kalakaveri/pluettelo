{"version":3,"sources":["components/Filter.js","components/ErrorNotification.js","components/PassNotification.js","components/PersonForm.js","services/persons.js","components/Button.js","components/Person.js","components/Phonebook.js","App.js","index.js"],"names":["Filter","handleChange","id","onChange","ErrorNotification","message","className","PassNotification","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","type","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Button","text","handleClick","onClick","Person","name","number","Phonebook","list","filter","phoneList","p","toLowerCase","includes","map","index","changeNumber","App","useState","persons","setPersons","setNewFilter","setNewName","setNewNumber","errorMessage","setErrorMessage","passMessage","setPassMessage","useEffect","personService","e","preventDefault","target","pers","length","window","confirm","find","nameObj","changedObj","rObj","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a437094c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ handleChange }) => {\r\n  return (\r\n    <>\r\n    filter shown with \r\n    <input\r\n      id='filter'\r\n      onChange={handleChange}\r\n    />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default ErrorNotification","import React from 'react'\r\n\r\nconst PassNotification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"pass\">\r\n        {message}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default PassNotification","import React from 'react'\r\n\r\nconst PersonForm = ({addName, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n  return (\r\n    <form onSubmit={addName}>\r\n        <div>\r\n          name: \r\n          <input\r\n            value={newName}\r\n            onChange={handleNameChange} \r\n          />\r\n        </div>\r\n        <div>\r\n          number: \r\n          <input\r\n            value={newNumber}\r\n            onChange={handleNumberChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n \tconst request = axios.get(baseUrl)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n\tconst request = axios.post(baseUrl, newObject)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n\tgetAll, create, update, remove \r\n}","import React from 'react'\r\n\r\nconst Button = ({ value, text, handleClick }) => {\r\n  return (\r\n    <button value={value} onClick={handleClick}>{text}</button>\r\n  )\r\n}\r\n\r\nexport default Button","import React from 'react'\r\n\r\nconst Person = ({name, number}) => <> {name} {number}</>\r\n\r\nexport default Person","import React from 'react'\r\nimport Button from './Button'\r\nimport Person from './Person'\r\n\r\nconst Phonebook = ({ list, filter, handleClick }) => {\r\n  let phoneList = list\r\n  if (filter) {\r\n    const filteredList = list.filter(p => p.name.toLowerCase().includes(filter.toLowerCase()))\r\n    phoneList = filteredList\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {(phoneList.map((p, index) => {\r\n        return (\r\n          <p key={index}>\r\n            <Person \r\n              name={p.name}\r\n              number={p.number} \r\n              changeNumber={(id) => {\r\n\r\n              }}\r\n            />\r\n            <Button handleClick={handleClick} value={p.name}  text={'delete'} />\r\n          </p>\r\n        )\r\n      }\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Phonebook","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport ErrorNotification from './components/ErrorNotification'\nimport PassNotification from './components/PassNotification'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport Phonebook from './components/Phonebook'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ filter, setNewFilter] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null)\n  const [ passMessage, setPassMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(persons => setPersons(persons))\n  }, [])\n\n  const handleFilterChange = (e) => {\n    e.preventDefault()\n    setNewFilter(e.target.value)\n  }\n\n  const handleNameChange = (e) => {\n    e.preventDefault()\n    setNewName(e.target.value)\n  }\n\n  const handleNumberChange = (e) => {\n    e.preventDefault()\n    setNewNumber(e.target.value)\n  }\n\n  const handleDeleteClick = (e) => {\n    e.preventDefault()\n    const name = e.target.value\n    const del = window.confirm(`Delete ${e.target.value}`)\n    if (del) {\n      const id = persons.find(p => p.name === e.target.value).id\n      personService\n        .remove(id)\n        .then(response => {\n          setPersons(persons.filter(p => p.id !== id))\n          setPassMessage(`${name} was deleted`)\n          setTimeout(() => {\n            setPassMessage(null)\n          }, 5000);\n        })\n        .catch(error => {\n          setErrorMessage(\n            `Person ${e.target.value} was already removed from server`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000);\n          setPersons(persons.map(p => p.id !== id))\n        })\n    }\n  }\n\n  const addName = (e) => {\n    e.preventDefault()\n    const pers = persons.filter(p => p.name === newName)\n\n    if (pers && pers.length > 0) {\n      const changeNum = window.confirm(`${newName} is already added to phonebook,\n        replace the old number with a new one?`)\n        if (changeNum) {\n          const id = persons.find(p => p.name === newName).id\n          const nameObj = persons.find(p => p.id === id)\n          const changedObj = {...nameObj, number: newNumber}\n\n          personService\n            .update(id, changedObj)\n              .then(rObj => {\n                setPersons(persons.map(p => p.id !== id ? p : rObj))\n                setNewName('')\n                setNewNumber('')\n                setPassMessage(`${rObj.name} has been updated`)\n                setTimeout(() => {\n                  setPassMessage(null)\n                }, 5000);\n              })\n              .catch(error => {\n                setErrorMessage(\n                  `Error: ${newName} can not be updated`\n                )\n                setPersons(persons.filter(p => p.id !== id))\n            })\n            }\n    }\n    else {\n      const nameObj = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(nameObj)\n        .then(rObj => {\n          setPersons(persons.concat(rObj))\n          setPassMessage(`${rObj.name} has been added`)\n          setTimeout(() => {\n            setPassMessage(null)\n          }, 5000)\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          setErrorMessage(\n            `Error: ${newName}: ${newNumber} could not be added`\n            )\n          setTimeout(() => setErrorMessage(null), 5000)\n          setPersons(persons)\n    })\n    }\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <PassNotification message={passMessage} />\n      <ErrorNotification message={errorMessage} />\n      <Filter handleChange={handleFilterChange} />\n      <h3>add a new</h3>\n      <PersonForm \n        addName={addName}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Phonebook \n        list={persons}\n        filter={filter}\n        handleClick={handleDeleteClick}\n      />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}